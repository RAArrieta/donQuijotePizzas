<h3 class="carro-titulo-producto">Productos</h3>
<div class="form-selects-conteiner">
    <div class="form-selects">
        {% for categoria, productos in categorias.items %}
            <div class="select-container">
                <select class="selects" name="producto" id="producto_{{ forloop.counter }}">
                    <option disabled selected>{{ categoria }}</option>
                    {% for producto in productos %}
                        <option value="{{ producto.id }}">{{ producto.nombre }} ${{ producto.precio_unit }}</option>
                    {% endfor %}
                </select>
            </div>
        {% endfor %}
        <button type="submit">Agregar</button>
    </div>
</div>

<script>
    // Obtener todos los select con la clase "selects"
    const selects = document.querySelectorAll('.selects');

    // FunciÃ³n para deseleccionar todos los select excepto el actual
    function deseleccionarOtros(event) {
        // Obtener el select actual
        const selectActual = event.target;
        
        // Recorrer todos los select
        selects.forEach(select => {
            // Si el select no es el actual, deseleccionar su valor
            if (select !== selectActual) {
                select.selectedIndex = 0;
            }
        });
    }

    // Agregar un evento 'change' a cada select
    selects.forEach(select => {
        select.addEventListener('change', deseleccionarOtros);
    });
</script>

